<div align="center">

# 🎥 Twitch 工具箱

**一站式 Twitch 直播管理工具**

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-Windows-blue.svg)](https://github.com/a32751342/Twitch_Tool)
[![Python](https://img.shields.io/badge/Python-3.8+-green.svg)](https://www.python.org/)

[功能特色](#-功能特色) • [下載安裝](#-下載安裝) • [快速開始](#-快速開始) • [使用指南](#-使用指南)

</div>

---

## 📖 簡介

Twitch 工具箱是一個基於 PyQt6 開發的桌面應用程式，專為 Twitch 觀眾設計，整合兩大核心功能：

- **📹 直播錄影保存** - 自動監控並錄製喜愛的直播內容
- **🔔 開播通知觀看** - 即時監控多個頻道，開播時自動開啟瀏覽器

讓你不再錯過任何精彩時刻！

---

## ✨ 功能特色

<table>
<tr>
<td width="50%">

### 🎯 核心功能
- ✅ 雙功能整合（錄影 + 通知）
- ✅ 多頻道同時監控
- ✅ 自動 Token 管理
- ✅ 系統列常駐運作
- ✅ 開機自動啟動

</td>
<td width="50%">

### 🛠️ 進階特性
- ✅ 多種畫質選擇
- ✅ 自訂檢查間隔
- ✅ 深色主題介面
- ✅ 即時狀態顯示
- ✅ 智慧去重機制

</td>
</tr>
</table>

---

## 📦 下載安裝

### 方式一：直接下載（推薦）

1. 前往 [Releases](../../releases) 頁面
2. 下載最新版本的 `Twitch工具箱.exe`
3. 雙擊執行，**無需安裝 Python 環境**

### 方式二：從原始碼建置

```bash
# 克隆專案
git clone https://github.com/a32751342/Twitch_Tool.git
cd Twitch_Tool

# 安裝依賴
pip install -r requirements.txt

# 執行程式
python new_twitch_watcher.py
```

---

## 🚀 快速開始

### 步驟 1：取得 Twitch API 憑證

> ⚠️ **必要步驟**：使用本工具前需要先取得 API 憑證

1. 前往 **[Twitch Developer Console](https://dev.twitch.tv/console/apps)**（需登入 Twitch 帳號）

2. 點擊 **「+ Register Your Application」**

3. 填寫應用程式資訊：
   ```
   Name: TwitchToolbox（或任意名稱）
   OAuth Redirect URLs: http://localhost
   Category: Application Integration
   ```

4. 建立後取得憑證：
   - 複製 **Client ID**
   - 點擊 **New Secret** 產生並複製 **Client Secret**

5. 在程式中設定：
   - 開啟 `Twitch工具箱.exe`
   - 切換至「開播通知觀看」頁籤
   - 填入 **Client ID** 和 **Client Secret**
   - 點擊「更新 Token」

> 💡 **提示**：Client Secret 請妥善保管，不要在公用電腦上保存

### 步驟 2：開始使用

完成憑證設定後，即可使用兩大功能：

- 📹 **[直播錄影保存](#1-直播錄影保存)** - 自動錄製直播
- 🔔 **[開播通知觀看](#2-開播通知觀看)** - 監控開播狀態

---

## 📘 使用指南

### 1. 直播錄影保存

自動監控指定頻道，開播時自動開始錄影，使用 Streamlink 技術確保高品質。

#### 📝 操作步驟

**① 新增監控頻道**
```
輸入實況主 ID（例如：kspksp）→ 點擊「新增監控」
```

**② 選擇錄影畫質**
- `best` - 最高畫質（預設）
- `1080p60` - 1080p 60fps
- `720p60` - 720p 60fps
- `480p` - 480p 標準畫質
- `audio_only` - 僅錄製音訊

**③ 設定存檔位置**
```
點擊 📂 按鈕 → 選擇錄影檔案存放資料夾
```
- 錄影檔自動命名：`頻道名稱_年月日_時分秒.ts`
- 檔案格式：`.ts`（相容大部分播放器）

**④ 開始監控**
```
點擊「準備就緒 (點擊開始監控)」按鈕
```
- 程式會每隔一段時間檢查頻道狀態
- 偵測到開播時自動開始錄影
- 錄影日誌會即時顯示狀態

#### 💡 使用技巧

- 可同時監控多個頻道
- 支援在系統列最小化運作
- 錄影過程中可隨時查看日誌
- 建議預留足夠的硬碟空間

---

### 2. 開播通知觀看

監控多個 Twitch 頻道，偵測到開播時自動開啟預設瀏覽器觀看。

#### 📝 操作步驟

**① 加入監控頻道**
```
輸入頻道名稱（例如：kspksp）→ 點擊「加入」
```
- 頻道會顯示在監控清單中
- 點擊「✕」按鈕可快速刪除

**② 設定檢查間隔**
```
輸入分鐘與秒數（例如：0 分 30 秒）
```
- 預設值：1 分鐘（60 秒）
- 建議值：≥30 秒（避免觸發 API 限制）

**③ 開始監看**
```
點擊「開始監看」按鈕
```
- 程式會依照設定間隔自動檢查
- 偵測到開播時自動開啟瀏覽器
- 右側表格顯示即時狀態

**④ 停止監看**
```
點擊「監看中 (點擊停止)」按鈕
```

#### 🎯 狀態說明

| 狀態 | 說明 |
|------|------|
| ✅ **直播中** | 頻道正在直播 |
| ⏸️ **離線** | 頻道目前離線 |
| ❌ **錯誤** | 無法取得頻道資訊 |

#### 💡 使用技巧

- 同一場直播只會開啟一次瀏覽器
- 可自訂檢查間隔以平衡即時性與 API 限制
- 支援多頻道同時監控
- 表格會顯示直播標題與觀看人數

---

## ⚙️ 進階設定

### 系統列功能

- **最小化至系統列**：關閉視窗後程式繼續在背景運作
- **從系統列恢復**：點擊系統列圖示可恢復視窗
- **完全退出**：在系統列圖示上按右鍵選擇「退出」

### 開機自啟動

1. 開啟程式設定
2. 勾選「開機時自動啟動」
3. 選擇啟動後的預設行為：
   - 自動開始監看
   - 自動開始錄影
   - 或兩者皆是

### 設定檔說明

程式會在執行目錄下自動產生設定檔：

| 檔案 | 說明 | 內容 |
|------|------|------|
| `twitch_watcher_config.json` | 開播通知設定 | 監控頻道清單、API 憑證、檢查間隔 |
| `recorder_config.json` | 錄影設定 | 監控頻道、畫質、存檔路徑 |

> 💡 **提示**：可手動編輯這些檔案進行批次設定

---

## ⚠️ 注意事項

### API 使用限制

- Twitch API 有頻率限制（每分鐘約 120 次請求）
- **建議檢查間隔 ≥30 秒**，避免觸發限制
- Token 會自動管理，到期前自動刷新

### 防毒軟體

- 部分防毒軟體可能誤判為未知程式
- 建議將程式加入白名單或信任清單

### 錄影相關

- 錄影檔案格式為 `.ts`（MPEG-TS）
- 可使用 VLC、PotPlayer 等播放器直接播放
- 如需轉檔，可使用 FFmpeg 或 HandBrake
- 請確保存檔路徑有足夠的硬碟空間

### 隱私安全

- **Client Secret 請妥善保管**
- 不建議在公用電腦上保存 API 憑證
- 設定檔包含敏感資訊，請勿分享

---

## 🛠️ 技術架構

- **框架**：PyQt6
- **語言**：Python 3.8+
- **錄影引擎**：Streamlink
- **API**：Twitch API v5 & Helix
- **打包工具**：PyInstaller

---

<div align="center">

**⭐ 如果這個專案對你有幫助，請給個 Star！⭐**

Made with ❤️ by [a32751342](https://github.com/a32751342)

</div>
